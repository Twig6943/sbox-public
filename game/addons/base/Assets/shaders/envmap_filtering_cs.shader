//-------------------------------------------------------------------------------------------------------------------------------------------------------------
HEADER
{
	DevShader = true;
	Description = "";
}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
MODES
{
	Default();
}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
FEATURES
{
}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
COMMON
{
	#include "system.fxc" // This should always be the first include in COMMON
}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
CS
{
	// Includes -----------------------------------------------------------------------------------------------------------------------------------------------
    #include "envmap_filtering.hlsl"

	DynamicCombo( D_QUALITY, 0..1, Sys( All ) );
	DynamicCombo( D_PASS, 0..1, Sys( All ) );
	
#if( D_PASS == 0)
	[numthreads( 8, 8, 6 )]
	void MainCs( uint3 vDispatchId : SV_DispatchThreadID )
	{
		DownsampleCubemap( vDispatchId );
	}
#else
	[numthreads( 128, 6, 1 )]
	void MainCs( uint3 vDispatchId : SV_DispatchThreadID )
	{
		FilterCubemapFast( vDispatchId );
	}
#endif
}
